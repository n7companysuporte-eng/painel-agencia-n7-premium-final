<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel N7 Premium Final</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{font-family:Arial,sans-serif;background:#f4f6f8;margin:0;padding:20px;overflow-x:hidden;}
h1,h2{margin-bottom:20px;}
nav button{padding:10px 15px;margin-right:10px;border:none;cursor:pointer;background:#000;color:#fff;border-radius:4px;}
.card{background:#fff;padding:20px;margin-top:20px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
input,textarea,select,button{padding:8px;margin:5px 0;width:100%;box-sizing:border-box;}
button{cursor:pointer;border:none;border-radius:4px;}
.btn-add{background:#000;color:#fff;}
.btn-remove{background:red;color:#fff;}
table{width:100%;border-collapse:collapse;margin-top:15px;}
th,td{padding:10px;border-bottom:1px solid #ddd;}
th{background:#f0f0f0;}
.status-ok{color:green;font-weight:bold;}
.status-pendente{color:orange;font-weight:bold;}

/* Boas-vindas */
#welcomeScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);display:flex;justify-content:center;align-items:center;z-index:999;opacity:0;transform:scale(0.8);transition:all 1s ease;}
#welcomeScreen.show{opacity:1;transform:scale(1);}
#welcomeContent{background:#fff;padding:30px;border-radius:10px;text-align:center;max-width:400px;opacity:0;transform:translateY(-20px);transition:all 1s ease;}
#welcomeContent.show{opacity:1;transform:translateY(0);}
#welcomeContent img{width:100px;height:100px;border-radius:50%;margin-bottom:20px;}
#welcomeContent button{display:none;margin-top:15px;}

/* Alertas */
#alertContainer{position:fixed;top:10px;right:10px;width:300px;z-index:1000;}
.alert{background:#fffae5;padding:10px;margin-bottom:10px;border-left:5px solid #ffc107;border-radius:4px;box-shadow:0 2px 5px rgba(0,0,0,0.2);animation:fadeIn 0.5s;}
@keyframes fadeIn{from{opacity:0;transform:translateX(50px);}to{opacity:1;transform:translateX(0);}}
</style>
</head>
<body>

<!-- Boas-vindas -->
<div id="welcomeScreen">
  <div id="welcomeContent">
    <img src="https://i.ibb.co/4p6Z2Kf/n7-avatar.png" alt="N7 Avatar">
    <h2 id="welcomeMessage"></h2>
    <button class="btn-add" onclick="fecharWelcome()">Continuar</button>
  </div>
</div>

<div id="alertContainer"></div>

<h1>Painel N7 Company Premium</h1>
<nav>
  <button onclick="mostrarAba('clientes')">Clientes</button>
  <button onclick="mostrarAba('postagens')">Postagens</button>
  <button onclick="mostrarAba('cronograma')">Cronograma</button>
  <button onclick="mostrarAba('leads')">Leads</button>
  <button onclick="mostrarAba('remarketing')">Remarketing</button>
  <button onclick="mostrarAba('disparo')">Disparo</button>
  <button onclick="mostrarAba('faturamento')">Faturamento</button>
  <button onclick="mostrarAba('dashboard')">Dashboard</button>
</nav>

<!-- CLIENTES -->
<div id="clientes" class="card">
<h2>Adicionar Cliente</h2>
<input id="clienteNome" placeholder="Nome">
<input id="clienteTelefone" placeholder="Telefone">
<input id="clienteValor" type="number" placeholder="Valor mensal">
<input id="clienteEntrada" type="date">
<button class="btn-add" onclick="adicionarCliente()">Adicionar Cliente</button>

<h2>Lista de Clientes</h2>
<table>
<thead><tr><th>Cliente</th><th>Telefone</th><th>Valor</th><th>Entrada</th><th>Status</th><th>Ação</th></tr></thead>
<tbody id="listaClientes"></tbody>
</table>
</div>

<!-- POSTAGENS -->
<div id="postagens" class="card" style="display:none">
<h2>Adicionar Postagem</h2>
<select id="postCliente"></select>
<input id="postData" type="date">
<input id="postHora" type="time">
<input id="postDescricao" placeholder="Descrição">
<input id="postLink" placeholder="Link">
<button class="btn-add" onclick="adicionarPostagem()">Adicionar</button>

<h2>Postagens</h2>
<table>
<thead><tr><th>Cliente</th><th>Data</th><th>Hora</th><th>Descrição</th><th>Link</th><th>Status</th><th>Ação</th></tr></thead>
<tbody id="listaPostagens"></tbody>
</table>
</div>

<!-- CRONOGRAMA -->
<div id="cronograma" class="card" style="display:none">
<h2>Cronograma</h2>
<select id="cronCliente" onchange="renderCronograma()"></select>
<input id="cronData" type="date">
<input id="cronHora" type="time">
<input id="cronTema" placeholder="Tema">
<input id="cronDescricao" placeholder="Descrição">
<button class="btn-add" onclick="adicionarCronograma()">Adicionar</button>
<table>
<thead><tr><th>Data</th><th>Hora</th><th>Tema</th><th>Descrição</th><th>Status</th><th>Ação</th></tr></thead>
<tbody id="tabelaCronograma"></tbody>
</table>
</div>

<!-- LEADS -->
<div id="leads" class="card" style="display:none">
<h2>Leads</h2>
<input id="leadNome" placeholder="Nome">
<input id="leadTelefone" placeholder="Telefone">
<input id="leadData" type="date">
<select id="leadStatus"><option value="pendente">Pendente</option><option value="contato">Contato feito</option></select>
<button class="btn-add" onclick="adicionarLead()">Adicionar</button>
<table>
<thead><tr><th>Nome</th><th>Telefone</th><th>Data</th><th>Status</th><th>Ação</th></tr></thead>
<tbody id="listaLeads"></tbody>
</table>
</div>

<!-- REMARKETING -->
<div id="remarketing" class="card" style="display:none">
<h2>Remarketing</h2>
<table>
<thead><tr><th>Nome</th><th>Telefone</th><th>Mensagem</th><th>Ação</th></tr></thead>
<tbody id="listaRemarketing"></tbody>
</table>
</div>

<!-- DISPARO -->
<div id="disparo" class="card" style="display:none">
<h2>Disparo de Mensagens</h2>
<textarea id="msgDisparo" placeholder="Mensagem"></textarea>
<div id="listaContatosDisparo"></div>
<button class="btn-add" onclick="dispararMensagem()">Enviar</button>
</div>

<!-- FATURAMENTO -->
<div id="faturamento" class="card" style="display:none">
<h2>Faturamento</h2>
<input id="investimentoTotal" type="number" placeholder="Investimento mensal">
<button class="btn-add" onclick="calcularFaturamento()">Calcular</button>
<p>Bruto: <span id="faturamentoBruto">R$ 0</span></p>
<p>Líquido: <span id="faturamentoLiquido">R$ 0</span></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="card" style="display:none">
<h2>Dashboard</h2>
<canvas id="graficoClientes"></canvas>
<canvas id="graficoFaturamento" style="margin-top:20px"></canvas>
</div>

<script>
// ---------------- Boas-vindas ----------------
const salmos=["Salmo 23: O Senhor é meu pastor; nada me faltará.","Salmo 91: Aquele que habita no esconderijo do Altíssimo, à sombra do Onipotente descansará."];
const oracoes=["Oração pela sabedoria: Senhor, guie meus passos hoje.","Oração de gratidão: Obrigado, Senhor, por mais um dia abençoado."];
const welcomeScreen=document.getElementById("welcomeScreen");
const welcomeContent=document.getElementById("welcomeContent");
const welcomeMsg=document.getElementById("welcomeMessage");
const idxS=Math.floor(Math.random()*salmos.length);
const idxO=Math.floor(Math.random()*oracoes.length);
welcomeMsg.innerText=salmos[idxS]+"\n"+oracoes[idxO];
setTimeout(()=>{welcomeScreen.classList.add("show");welcomeContent.classList.add("show");},100);
setTimeout(()=>{welcomeContent.querySelector("button").style.display="block";},5000);
function fecharWelcome(){welcomeScreen.style.display="none";}

// ---------------- Alertas ----------------
function criarAlerta(msg){const c=document.getElementById("alertContainer");const d=document.createElement("div");d.className="alert";d.innerText=msg;c.appendChild(d);setTimeout(()=>d.remove(),7000);}

// ---------------- Dados ----------------
let clientes=JSON.parse(localStorage.getItem("clientes"))||[];
let postagens=JSON.parse(localStorage.getItem("postagens"))||[];
let cronogramas=JSON.parse(localStorage.getItem("cronogramas"))||{};
let leads=JSON.parse(localStorage.getItem("leads"))||[];

function salvar(){
  localStorage.setItem("clientes",JSON.stringify(clientes));
  localStorage.setItem("postagens",JSON.stringify(postagens));
  localStorage.setItem("cronogramas",JSON.stringify(cronogramas));
  localStorage.setItem("leads",JSON.stringify(leads));
}

// ---------------- Mostrar abas ----------------
function mostrarAba(aba){["clientes","postagens","cronograma","leads","remarketing","disparo","faturamento","dashboard"].forEach(a=>document.getElementById(a).style.display=a===aba?"block":"none");}

// ---------------- Clientes ----------------
function atualizarClientes(){
  const tbody=document.getElementById("listaClientes");
  tbody.innerHTML="";
  clientes.forEach((c,i)=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${c.nome}</td><td>${c.telefone}</td><td>R$ ${c.valor}</td><td>${c.entrada}</td><td>${c.status||'ativo'}</td>
    <td><button class="btn-remove" onclick="removerCliente(${i})">Remover</button></td>`;
    tbody.appendChild(tr);
  });
  // Atualizar selects
  const postSelect=document.getElementById("postCliente");
  const cronSelect=document.getElementById("cronCliente");
  [postSelect,cronSelect].forEach(s=>{s.innerHTML="";clientes.forEach(c=>{const o=document.createElement("option");o.value=c.nome;o.innerText=c.nome;s.appendChild(o);})});
}
function adicionarCliente(){
  const n=document.getElementById("clienteNome").value;
  const t=document.getElementById("clienteTelefone").value;
  const v=document.getElementById("clienteValor").value;
  const e=document.getElementById("clienteEntrada").value;
  if(!n||!t||!v||!e){criarAlerta("Preencha todos os campos!");return;}
  clientes.push({nome:n,telefone:t,valor:v,entrada:e,status:"ativo"});salvar();atualizarClientes();
  document.getElementById("clienteNome").value="";document.getElementById("clienteTelefone").value="";document.getElementById("clienteValor").value="";document.getElementById("clienteEntrada").value="";
}
function removerCliente(i){clientes[i].status="removido";salvar();atualizarClientes();}

// Inicialização
atualizarClientes();
</script>
</body>
</html>
